<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Matthieu Stigler" />

<meta name="date" content="2015-07-27" />

<title>rddtools</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">rddtools</h1>
<h4 class="author"><em>Matthieu Stigler</em></h4>
<h4 class="date"><em>2015-07-27</em></h4>
</div>


<p><strong>RDDtools</strong> works in an object-oriented way: the user has to define once the characteristic of the data, creating a <em>rdd_data</em> object, on which different anaylsis tools can be applied.</p>
<div id="data-preparation-and-visualisation" class="section level1">
<h1>Data Preparation and Visualisation</h1>
<p>Load the package, and load the built-in dataset from [Lee 2008]:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rddtools)
<span class="kw">data</span>(house)</code></pre>
<p>Declare the data to be a <em>rdd_data</em> object:</p>
<pre class="sourceCode r"><code class="sourceCode r">house_rdd &lt;-<span class="st"> </span><span class="kw">rdd_data</span>(<span class="dt">y=</span>house$y, <span class="dt">x=</span>house$x, <span class="dt">cutpoint=</span><span class="dv">0</span>)</code></pre>
<p>You can now directly summarise and visualise this data:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(house_rdd)
<span class="co">#&gt; ### rdd_data object ###</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Cutpoint: 0 </span>
<span class="co">#&gt; Sample size: </span>
<span class="co">#&gt;  -Full : 6558 </span>
<span class="co">#&gt;  -Left : 2740 </span>
<span class="co">#&gt;  -Right: 3818</span>
<span class="co">#&gt; Covariates: no</span>
<span class="kw">plot</span>(house_rdd)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
</div>
<div id="parametric-estimation" class="section level1">
<h1>Parametric Estimation</h1>
<p>Estimate parametrically, by fitting a 4th order polynomial.</p>
<pre class="sourceCode r"><code class="sourceCode r">reg_para &lt;-<span class="st"> </span><span class="kw">rdd_reg_lm</span>(<span class="dt">rdd_object=</span>house_rdd, <span class="dt">order=</span><span class="dv">4</span>)
reg_para
<span class="co">#&gt; ### RDD regression: parametric ###</span>
<span class="co">#&gt;  Polynomial order:  4 </span>
<span class="co">#&gt;  Slopes:  separate </span>
<span class="co">#&gt;  Number of obs: 6558 (left: 2740, right: 3818)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Coefficient:</span>
<span class="co">#&gt;   Estimate Std. Error t value  Pr(&gt;|t|)    </span>
<span class="co">#&gt; D 0.076590   0.013239  5.7851 7.582e-09 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>

<span class="kw">plot</span>(reg_para)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
</div>
<div id="non-parametric-estimation" class="section level1">
<h1>Non-parametric Estimation</h1>
<p>Run a simple local regression, using the [Imbens and Kalyanaraman 2012] bandwidth.</p>
<pre class="sourceCode r"><code class="sourceCode r">bw_ik &lt;-<span class="st"> </span><span class="kw">rdd_bw_ik</span>(house_rdd)
reg_nonpara &lt;-<span class="st"> </span><span class="kw">rdd_reg_np</span>(<span class="dt">rdd_object=</span>house_rdd, <span class="dt">bw=</span>bw_ik)
<span class="kw">print</span>(reg_nonpara)
<span class="co">#&gt; ### RDD regression: nonparametric local linear###</span>
<span class="co">#&gt;  Bandwidth:  0.2938561 </span>
<span class="co">#&gt;  Number of obs: 3200 (left: 1594, right: 1606)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Coefficient:</span>
<span class="co">#&gt;   Estimate Std. Error z value  Pr(&gt;|z|)    </span>
<span class="co">#&gt; D 0.079924   0.009465  8.4443 &lt; 2.2e-16 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="kw">plot</span>(<span class="dt">x=</span>reg_nonpara)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
</div>
<div id="regression-sensitivity-tests" class="section level1">
<h1>Regression Sensitivity tests:</h1>
<p>One can easily check the sensitivity of the estimate to different bandwidths:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plotSensi</span>(reg_nonpara, <span class="dt">from=</span><span class="fl">0.05</span>, <span class="dt">to=</span><span class="dv">1</span>, <span class="dt">by=</span><span class="fl">0.1</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>Or run the Placebo test, estimating the RDD effect based on fake cutpoints:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plotPlacebo</span>(reg_nonpara)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
</div>
<div id="design-sensitivity-tests" class="section level1">
<h1>Design Sensitivity tests:</h1>
<p>Design sensitivity tests check whether the discontinuity found can actually be attributed ot other causes. Two types of tests are available:</p>
<ul>
<li>Discontinuity comes from manipulation: test whether there is possible manipulation around the cutoff, McCrary 2008 test: <strong>dens_test()</strong></li>
<li>Discontinuity comes from other variables: should test whether discontinuity arises with covariates. Currently, only simple tests of equality of covariates around the threshold are available:</li>
</ul>
<div id="discontinuity-comes-from-manipulation-mccrary-test" class="section level2">
<h2>Discontinuity comes from manipulation: McCrary test</h2>
<p>use simply the function <strong>dens_test()</strong>, on either the raw data, or the regression output:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dens_test</span>(reg_nonpara)</code></pre>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAARVBMVEUAAAAAADoAAGYAOjoAOpAAZrY6AAA6ADo6Ojo6kNtmAABmtv+QOgCQ2/+2ZgC2///bkDrb////tmb/25D//7b//9v///+l592+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAIjElEQVR4nO2d6XrbNhBFmbZO29RxVSfh+z9qJXHDfgfgDEHa9/xwLBu8AI8H4CJ+yjCSIkPvAZwdCgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAUBKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAUBKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAUBKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgJQEICCABQEUBY0XIZegnTjLHgO8SMKqvirl3OmsKrmetgJqpoXxaApraq5HhR0bJwzr9QEzWnilmp9msQNniHNYHFLvU4t4lTLxgsWt1TuWDnOQNBHXYP0IutiTy5oKiJNUXMBfRhB0yRTnGofUlDd1RMInFOr2utxfkFLqripYrf6caNjSDlU3FSzX5tLDQqCoZqC+qxBJguFH798szurMucyFeR9syNrSazbQA0DQcM2xSgoCHueQ68nixQUZrlTa/2R36A9Wty0sQuTuGj/nZtBydaNhqZ6FLZt6sEmzttj/6iYOkR+bkHheUNgo/kKdrkbZCTobRhefr3ex/WPSly48bbHg8v2A79lSwHZCrr98d/d0cs4/vz2t0JcvHVa0FYu++/gmwr69XrX8v7l+zip2huX2NqvF6dqhtFTclJBP7/dZ9b7b/+Oy9d9cYmt3RPCxKTajvnNR/jrVpCjJF5+winnbtXUl/Ua9FS1O87b0Nl330S4EMWLdUNn1zuKeQtORlBm4rV0dr3zICAoM8fqBRmfB9nFuT6cqeQsyDlD47YSCWxNzSsG2rhHN+Wj2LrTiXkUNIl/79dauZ+pvb2gMCW3V1UBY8KPv+Bsdz+iiSa79uglaHdcrjziffbWI6eR7C90WUHhQuP8OD3XPCFOCcn6MhP0PMTfyaxAuypo/ie9vEStg5Kpmt52gm7DfH74PmieKK57OpdB8Bvv5XqlERuq6M9IkHP+rHmpMbiCvITYT5KKruYcI0HPi9UJzYtVV1DiN3HD0wqyrqDschy8XJu3CZoOl1WbSLkt12D6a5B7xydW4r+Makm8SFsLuk+yaUSZ+tm3SDt+ssexuHzcV7inKaNmoGc4D2oQlC4laXc1Az29oOAAHgn5DILC5Rbs6jqr/G3Fi/UFBY3uHpdbzf86jSv0bEf5iwkSrrBejUULk3R088wUj03a0DJu3j+wo7sFOQV0LUHDsD3cUtjTnCDxHLuyoK2AyiWU+FZ8EtRTUPWRJNjaC2nqXH7D4zoVtB2Uth/s8yNbqa8iaNmlHaW35dSsRBcTtGtyrjmjwJBXr59IUHhODcZ2HUHxPYvdnRdz1jME95UgdOeg9sUZ+MkmXVqQTt/ltAMF/fiae7ijMk6xfKTnYuu5uDi2YgjL/cQHGjftjfz0E7TcitaqIP0JNsI4W0H3GnrcjVYVVNU/Dstm+kuQ3Rr09uW76hpU2T0My9bkUYIebz+XBLVcjGmSExT4sTyK/fj6u44g1RmGUg8U9HjE48SCMrFHCirHyQNtBWVWoqME5Z9RrBOkvw4N2/E+NdM6VVDLJVX5qLxvJPmlqP8UE7cs/aF3DCBdQasXCnIMxeNy7vqLA6u6FzyjKAtcJ6SRnyA1KiCz54PwM4qiQM2LsERuFH6QINkTZpJEU0GJs+lohlnd7pA8o3gWQYl8a0F6zyga+ZmWtMw0G+0F6T2jaGNnzQ4FxTPM7n7Q1PHOZxSNymcLDxai4wSJ4lCk1QLkx7t1NMy/CAYqi9MeHYzMraCKY4gVjeG07imonJk9xOgOIzaUPjPCUdojA5mH+ElOs/S5NY7SHhlsYK8nOctOI6gc2KuAoh5PKig7XvVRDO4zQ/46PQiOJE6W+tBKqctycISg9Rv/1fJVnKU3Imcx7CxoTPrpKciJK5bQ4BT5AQTz+RqCdPsDowkWofVrxTj0LzUKhg72E13ch4u2KEJ5RMVToaP9bP2eSVBew+EFtPV7MkFDKtr80JXlbILWElrvV7knbbr9yQYVyTETJPxoCt9Q459OjUTxWAmSfjTF4BlqLW4l1pqxn2Lym/bOEHaMTQd3LMaCKj6aomiooksFDhQkrqCoZtzJ32WOOd8aCpK87ZOc776hmh618G+3mgkSvO0DqOrNCkNBsr5PL2jsesPsnIKG4FtrQdlnFAtmuhbQ0YLClJPWjcN5btqvVs4lKNjTs7yrcR4/M0Pwr3gDGWafo3gMzl+r78XqBeh2qXEZLAQJLlblVHRs09QgUVBBJh1fRpDgYtWk4+sIwherJh1fSFCfjimoS9NuifodU1CXpt0S9Tv+nIKuAgUBKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgIcL+h9GJ7/2e+D6RbuC27ov2jPrOdwQY//Cvl92ZsffxZ22m3ovWjPbOBoQdNbR2/zH7jw9prX0N+qObOFowVNn8G4PF50y88Er6G/VXNmC4cLek6A5a/89td9uUi/xeY19LdqzmzhaEHTUjEvGNNHw74l98Zr6L1oz2yhq6D5R8nCaBVUymyh7xSbfpT85NPmKVbIbOFAQbfH2pBYbtPH5eZFupDZQtfD/LRn6cJoPcyXMlvoe6L43KnMgtp6oljKbOD4S43bdFnw6/W5I/dpl1stvIa34qWGOLMeXqwCKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAUBKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAUBKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgJQEICCABQE+B/lbIaUWwrDHAAAAABJRU5ErkJggg==" /></p>
<pre><code>#&gt; 
#&gt;  McCrary Test for no discontinuity of density around cutpoint
#&gt; 
#&gt; data:  reg_nonpara
#&gt; z-val = 1.2952, p-value = 0.1952
#&gt; alternative hypothesis: Density is discontinuous around cutpoint
#&gt; sample estimates:
#&gt; Discontinuity 
#&gt;     0.1035008</code></pre>
</div>
<div id="discontinuity-comes-from-covariates-covariates-balance-tests" class="section level2">
<h2>Discontinuity comes from covariates: covariates balance tests</h2>
<p>Two tests available: + equal means of covariates: <strong>covarTest_mean()</strong> + equal density of covariates: <strong>covarTest_dens()</strong></p>
<p>We need here to simulate some data, given that the Lee (2008) dataset contains no covariates. We here simulate three variables, with the second having a different mean on the left and the right.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">123</span>)
n_Lee &lt;-<span class="st"> </span><span class="kw">nrow</span>(house)
Z &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">z1 =</span> <span class="kw">rnorm</span>(n_Lee, <span class="dt">sd=</span><span class="dv">2</span>), 
                <span class="dt">z2 =</span> <span class="kw">rnorm</span>(n_Lee, <span class="dt">mean =</span> <span class="kw">ifelse</span>(house&lt;<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">8</span>)), 
                <span class="dt">z3 =</span> <span class="kw">sample</span>(letters, <span class="dt">size =</span> n_Lee, <span class="dt">replace =</span> <span class="ot">TRUE</span>))
house_rdd_Z &lt;-<span class="st"> </span><span class="kw">rdd_data</span>(<span class="dt">y =</span> house$y, <span class="dt">x =</span> house$x, <span class="dt">covar =</span> Z, <span class="dt">cutpoint =</span> <span class="dv">0</span>)</code></pre>
<p>Run the tests:</p>
<pre class="sourceCode r"><code class="sourceCode r">## test for equality of means around cutoff:
<span class="kw">covarTest_mean</span>(house_rdd_Z, <span class="dt">bw=</span><span class="fl">0.3</span>)
<span class="co">#&gt;    mean of x   mean of y Difference statistic  p.value  </span>
<span class="co">#&gt; z1 0.004268177 0.0218581 0.01758993 -0.2539109 0.7995803</span>
<span class="co">#&gt; z2 5.005608    7.984865  2.979257   -84.84982  0        </span>
<span class="co">#&gt; z3 13.18888    13.43534  0.2464617  -0.9409715 0.3467888</span>

## Can also use function covarTest_dis() for Kolmogorov-Smirnov test:
<span class="kw">covarTest_dis</span>(house_rdd_Z, <span class="dt">bw=</span><span class="fl">0.3</span>)
<span class="co">#&gt; Warning in ks.test(x[regime], x[!regime], exact = exact): p-value will be</span>
<span class="co">#&gt; approximate in the presence of ties</span>
<span class="co">#&gt;    statistic  p.value  </span>
<span class="co">#&gt; z1 0.03482029 0.2726692</span>
<span class="co">#&gt; z2 0.8647849  0        </span>
<span class="co">#&gt; z3 0.03008545 0.447416</span></code></pre>
<p>Tests correctly reject equality of the second, and correctly do not reject equality for the first and third.</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
